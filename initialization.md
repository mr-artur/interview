# Инициализация классов и объектов
+ [_Особенности конструкторов_](#Особенности-конструкторов)
+ [_Инициализаторы_](#Инициализаторы)
    + [Пример _нестатического блока инициализации_](#Пример-нестатического-блока-инициализации)
    + [_Свойства инициализаторов_](#Свойства-инициализаторов)
+ [_Типы инициализации_](#Типы-инициализации)
+ [_Порядок инициализации объекта_](#Порядок-инициализации-объекта)
    + [Пример _порядка инициализации объекта и класса_](#Пример-порядка-инициализации-объекта-и-класса)

## _Особенности конструкторов_
1. В конструкторах, как и во всех методах, может присутствовать throws-выражение.
2. Тело конструктора может содержать любое количество return-выражений без аргументов.
3. В первой строке конструктора всегда находится super(), даже если там его нету явно.
4. В случае если у класса несколько конструкторов, допускается в первой строке некоторых из них указывать this(), а не super(), вызывающее другой конструктор этого класса(в т.ч. и private). Цепочка this должна все равно приводить к super.
5. Конструкторы не наследуются.
6. Если определить в родительском классе конструктор с параметрами, и не определить без параметров, и унаследовать от него другой класс, будет ошибка компиляции.

[к оглавлению](#Инициализация-классов-и-объектов)

## _Инициализаторы_
_Инициализаторы_ - это блоки внутри класса, код внутри которых исполняется перед вызовом конструктора класса или его наследников. Как правило, в них могут инициализироваться данные класса или объекта.

[к оглавлению](#Инициализация-классов-и-объектов)

#### Пример _нестатического блока инициализации_
```java
public class Test {

    private int x, y, z;
    
    {
        x = 3;
        if (x > 0) {
            y = 4;
        }
        z = Math.max(x, y);
    }
}
```
#### _Свойства Инициализаторов_ : 
+ не имеют имен
+ исполняются при создании объектов 
+ не могут быть вызваны явно 
+ не передаются по наследству(но инициализаторы в классе-родителе продолжают исполняться при создании объекта класса-наследника)
    
[к оглавлению](#Инициализация-классов-и-объектов)

## _Типы инициализации_
__1. Инициализация в месте объявления поля__

_Применяется к :_ Поля класса, поля объекта

_Описание :_ Применяется, если инициализация может быть произведена коротким выражением и если доступен контекст, необходимый для ее произведения.

__2. Инициализационный блок__

_Применяется к :_ Поля класса, поля объекта

_Описание :_ Применяется, если инициализационный код неудобно записывать одним выражением или, например, нужна обработка проверяемых исключений. В случае объектов может применяться для инициализации объектов анонимных классов.

__3. Конструктор класса__

_Применяется к :_ Поля объекта

_Описание :_ Применяется, если для инициализации нужны параметры конструктора.

[к оглавлению](#Инициализация-классов-и-объектов)

## _Порядок инициализации объекта_
_Для случая наследования классов :_ __public class Child extends Parent__
1. Статические поля и блоки инициализации класса Parent в порядке размещения в классе
2. Статические поля и блоки инициализации класса Child в порядке размещения в классе
3. Нестатические поля и блоки инициализации класса Parent в порядке размещения в классе
4. Конструктор класса Parent
5. Нестатические поля и блоки инициализации класса Child в порядке размещения в классе
6. Конструктор класса Child

[к оглавлению](#Инициализация-классов-и-объектов)

#### Пример _порядка инициализации объекта и класса_
```java
public class Main {

    static int initialize(String message) {
        System.out.println(message);
        return 0;
    }

    public static void main(String[] args) throws ClassNotFoundException {
        System.out.println("Initializing A class");
        Class.forName(A.class.getName());
        System.out.println("Initializing B object");
        new B();
    }
}

class A {

    int i5 = Main.initialize("i5");
    int i7;
    int i8;

    A() {
        i8 = Main.initialize("i8");
    }

    private int i6 = Main.initialize("i6");

    {
        i7 = Main.initialize("i7");
    }

    static final int i2;
    static final int i1 = Main.initialize("i1");

    static {
        i2 = Main.initialize("i2");
    }

    static final int i3 = Main.initialize("i3");
}

class B extends A {

    int i9 = Main.initialize("i9");
    int i10;

    {
        i10 = Main.initialize("i10");
    }

    int i11;

    B() {
        i11 = Main.initialize("i11");
    }

    static final int i4;

    static {
        i4 = Main.initialize("i4");
    }
}
```
Вывод :
```java
Initializing A class
i1
i2
i3
Initializing B object
i4
i5
i6
i7
i8
i9
i10
i11
```
[к оглавлению](#Инициализация-классов-и-объектов)
